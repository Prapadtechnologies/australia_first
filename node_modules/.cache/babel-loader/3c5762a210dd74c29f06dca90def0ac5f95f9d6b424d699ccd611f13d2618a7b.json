{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{RouterProvider}from\"react-router-dom\";import{toast,ToastContainer}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import Router from\"../src/Navigation\";import{ApiUrl}from\"./Constants\";import{AuthContext}from\"./Context/AuthContext\";import{apiCall}from\"./Utilites/Api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[accessToken,setAccessToken]=useState(localStorage.getItem(\"accessToken\"));const doLogin=async payload=>{// const accessToken = 'dwedewdwedewdwedewdn';\n// localStorage.setItem(\"accessToken\", accessToken);\n// setAccessToken(accessToken);\n// toast.success('Login success');\nconst resp=await apiCall(ApiUrl.login,payload);if(resp.status){const accessToken=resp.data.token;localStorage.setItem(\"accessToken\",accessToken);setAccessToken(accessToken);toast.success(resp.message);}else{toast.error(resp.message);}};const doLogout=async()=>{localStorage.removeItem(\"accessToken\",accessToken);setAccessToken(null);// const resp = await apiCall(ApiUrl.logout,{});\n// console.log(resp);\n};return/*#__PURE__*/_jsxs(AuthContext.Provider,{value:{accessToken,doLogin,doLogout},children:[/*#__PURE__*/_jsx(RouterProvider,{router:Router}),/*#__PURE__*/_jsx(ToastContainer,{})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","RouterProvider","toast","ToastContainer","Router","ApiUrl","AuthContext","apiCall","jsx","_jsx","jsxs","_jsxs","App","accessToken","setAccessToken","localStorage","getItem","doLogin","payload","resp","login","status","data","token","setItem","success","message","error","doLogout","removeItem","Provider","value","children","router"],"sources":["D:/react/australia_first/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { RouterProvider } from \"react-router-dom\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport Router from \"../src/Navigation\";\nimport { ApiUrl } from \"./Constants\";\nimport { AuthContext } from \"./Context/AuthContext\";\nimport { apiCall } from \"./Utilites/Api\";\n\nfunction App() {\n  const [accessToken, setAccessToken] = useState(\n    localStorage.getItem(\"accessToken\")\n  );\n\n  const doLogin = async (payload) => {\n    // const accessToken = 'dwedewdwedewdwedewdn';\n    // localStorage.setItem(\"accessToken\", accessToken);\n    // setAccessToken(accessToken);\n    // toast.success('Login success');\n\n    const resp = await apiCall(ApiUrl.login, payload);\n    if (resp.status) {\n      const accessToken = resp.data.token;\n      localStorage.setItem(\"accessToken\", accessToken);\n      setAccessToken(accessToken);\n      toast.success(resp.message);\n    } else {\n      toast.error(resp.message);\n    }\n  };\n\n  const doLogout = async () => {\n    localStorage.removeItem(\"accessToken\", accessToken);\n    setAccessToken(null);\n    // const resp = await apiCall(ApiUrl.logout,{});\n    // console.log(resp);\n  };\n\n  return (\n    <AuthContext.Provider value={{ accessToken, doLogin, doLogout }}>\n      <RouterProvider router={Router} />\n      <ToastContainer />\n    </AuthContext.Provider>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,cAAc,KAAQ,kBAAkB,CACjD,OAASC,KAAK,CAAEC,cAAc,KAAQ,gBAAgB,CACtD,MAAO,uCAAuC,CAE9C,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,OAASC,MAAM,KAAQ,aAAa,CACpC,OAASC,WAAW,KAAQ,uBAAuB,CACnD,OAASC,OAAO,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzC,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGf,QAAQ,CAC5CgB,YAAY,CAACC,OAAO,CAAC,aAAa,CACpC,CAAC,CAED,KAAM,CAAAC,OAAO,CAAG,KAAO,CAAAC,OAAO,EAAK,CACjC;AACA;AACA;AACA;AAEA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAZ,OAAO,CAACF,MAAM,CAACe,KAAK,CAAEF,OAAO,CAAC,CACjD,GAAIC,IAAI,CAACE,MAAM,CAAE,CACf,KAAM,CAAAR,WAAW,CAAGM,IAAI,CAACG,IAAI,CAACC,KAAK,CACnCR,YAAY,CAACS,OAAO,CAAC,aAAa,CAAEX,WAAW,CAAC,CAChDC,cAAc,CAACD,WAAW,CAAC,CAC3BX,KAAK,CAACuB,OAAO,CAACN,IAAI,CAACO,OAAO,CAAC,CAC7B,CAAC,IAAM,CACLxB,KAAK,CAACyB,KAAK,CAACR,IAAI,CAACO,OAAO,CAAC,CAC3B,CACF,CAAC,CAED,KAAM,CAAAE,QAAQ,CAAG,KAAAA,CAAA,GAAY,CAC3Bb,YAAY,CAACc,UAAU,CAAC,aAAa,CAAEhB,WAAW,CAAC,CACnDC,cAAc,CAAC,IAAI,CAAC,CACpB;AACA;AACF,CAAC,CAED,mBACEH,KAAA,CAACL,WAAW,CAACwB,QAAQ,EAACC,KAAK,CAAE,CAAElB,WAAW,CAAEI,OAAO,CAAEW,QAAS,CAAE,CAAAI,QAAA,eAC9DvB,IAAA,CAACR,cAAc,EAACgC,MAAM,CAAE7B,MAAO,CAAE,CAAC,cAClCK,IAAA,CAACN,cAAc,GAAE,CAAC,EACE,CAAC,CAE3B,CAEA,cAAe,CAAAS,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}